{"ast":null,"code":"'use strict';\n\nvar tough = require('tough-cookie');\n\nvar Cookie = tough.Cookie;\nvar CookieJar = tough.CookieJar;\n\nexports.parse = function (str) {\n  if (str && str.uri) {\n    str = str.uri;\n  }\n\n  if (typeof str !== 'string') {\n    throw new Error('The cookie function only accepts STRING as param');\n  }\n\n  return Cookie.parse(str, {\n    loose: true\n  });\n}; // Adapt the sometimes-Async api of tough.CookieJar to our requirements\n\n\nfunction RequestJar(store) {\n  var self = this;\n  self._jar = new CookieJar(store, {\n    looseMode: true\n  });\n}\n\nRequestJar.prototype.setCookie = function (cookieOrStr, uri, options) {\n  var self = this;\n  return self._jar.setCookieSync(cookieOrStr, uri, options || {});\n};\n\nRequestJar.prototype.getCookieString = function (uri) {\n  var self = this;\n  return self._jar.getCookieStringSync(uri);\n};\n\nRequestJar.prototype.getCookies = function (uri) {\n  var self = this;\n  return self._jar.getCookiesSync(uri);\n};\n\nexports.jar = function (store) {\n  return new RequestJar(store);\n};","map":null,"metadata":{},"sourceType":"script"}