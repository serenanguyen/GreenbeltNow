(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(42)},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),o=(a(6),a(16)),c=a.n(o),s={sculptureFalls:{name:"Sculpture Falls",address:"1710 Camp Craft Road",info:"You can also visit the Hill of Life from here.",locationID:"08155240"},twinFalls:{name:"Twin Falls",address:"3918 S. Mopac Expy",info:"From Capital of Texas Highway, turn as if you're heading south on Mopac but stay on the feeder and park along the frontage.",locationID:"08155300"},loop360:{name:"360 Loop",address:"3755-B Capital of Texas Hwy (Loop 360)",info:"There's great climbing here.",locationID:"08155300"},gusFruh:{name:"Gus Fruh",address:"2642 Barton Hills Dr",info:"This is my favorite swimming hole.",locationID:"08155400"},spyglass:{name:"Spyglass",address:"1601 Spyglass Dr",info:"Grab a bite at TacoDeli after you swim! You can access Campbell's Hole if you head north on the trail",locationID:"08155400"},campbellsHole:{name:"Campbell's Hole",address:"2010 Homedale Dr",info:"You can access Campbell's Hole from the east side of the creek from Barton Hills Elementary School.",locationID:"08155400"},aboveBarton:{name:"Above Barton Springs",address:"2201 Barton Springs Rd",info:"Near the Zilker Park playground and right next to Barton Springs Pool.",locationID:"08155400"},lostCreek:{name:"Lost Creek",address:"Lost Creek Blvd & Bend Of The River Dr",info:"This entrance is tricky. Merge onto 360 N from 290 W and turn left onto Lost Creek Blvd. The trail entrance is underneath the bridge.",locationID:"08155240"}},i={"08155240":"lostCreek","08155300":"loop360","08155400":"aboveBarton"},m={runQuery:function(e){return c.a.get("https://waterservices.usgs.gov/nwis/iv/",{params:{site:e,format:"json",parameterCd:"00065,00060",siteStatus:"active"}})},getWaterData:function(e){var t=s[e].locationID,a={};return this.runQuery(t).then(function(n){if(200!==n.status)throw new Error("request failed");a.location=s[e];var r=i[t];return a.gaugeReference="Water data is being pulled from the gauge locatated at ".concat(s[r].name,"."),n.data.value.timeSeries.forEach(function(e){var t=e.variable.variableDescription,n=e.values[0].value[0].value;t.includes("Discharge")?(a.discharge=n,a.flowCondition=n<100?"Water flow might be too slow.":n>550?"The water is moving a lil too fast, maybe take a nap instead":"Water flow is pretty good!"):(a.waterLevel=n,a.levelCondition=n<2?"Water level might be too low.":n>7?"Water level might be too high today.":"Water level is good!")}),a}).catch(function(e){return a.error=e})}},u=a(2),f=r.a.createContext(),d=r.a.createContext(),p=r.a.createContext(),h=function(e){var t=e.children,a=Object(n.useState)(!1),l=Object(u.a)(a,2),o=l[0],c=l[1],s=Object(n.useState)(),i=Object(u.a)(s,2),m=i[0],h=i[1],v=Object(n.useState)(),g=Object(u.a)(v,2),E=g[0],b=g[1];return r.a.createElement(f.Provider,{value:{state:o,setState:c}},r.a.createElement(d.Provider,{value:{state:m,setState:h}},r.a.createElement(p.Provider,{value:{state:E,setState:b}},t)))},v=function(){var e=Object(n.useContext)(f).setState,t=Object(n.useContext)(d).setState,a=Object(n.useContext)(p).setState,l=function(n){e(!0),t(n.target.id),m.getWaterData(n.target.id).then(function(t){e(!1),a(t)}).catch(function(t){e(!1),a(t)})};return r.a.createElement("div",{className:"map-container fadeInDown"},r.a.createElement("h1",null,"GREENBELT NOW"),r.a.createElement("img",{src:"https://i.imgur.com/5xW6mRh.png",className:"map",alt:"greenbelt-map",useMap:"#Map"}),r.a.createElement("map",{name:"Map",id:"Map"},r.a.createElement("area",{alt:"Lost Creek",id:"lostCreek",onClick:function(e){l(e)},href:"#",shape:"rect",coords:"14,82,102,107"}),r.a.createElement("area",{alt:"Sculpture Falls",id:"sculptureFalls",onClick:function(e){l(e)},href:"#",shape:"rect",coords:"59,177,168,151"}),r.a.createElement("area",{alt:"Twin Falls",id:"twinFalls",onClick:function(e){l(e)},href:"#",shape:"rect",coords:"233,266,147,291"}),r.a.createElement("area",{alt:"360 Loop",id:"loop360",onClick:function(e){l(e)},href:"#",shape:"rect",coords:"318,303,287,339"}),r.a.createElement("area",{alt:"Gus Fruh",id:"gusFruh",onClick:function(e){l(e)},href:"#",shape:"rect",coords:"394,271,330,296"}),r.a.createElement("area",{alt:"Spyglass",id:"spyglass",onClick:function(e){l(e)},href:"#",shape:"rect",coords:"391,210,465,234"}),r.a.createElement("area",{alt:"Campbell's Hole",id:"campbellsHole",onClick:function(e){l(e)},href:"#",shape:"rect",coords:"413,173,494,199"}),r.a.createElement("area",{alt:"Above Barton Springs",id:"aboveBarton",onClick:function(e){l(e)},href:"#",shape:"rect",coords:"513,156,631,195"})),r.a.createElement("h2",null,"Can I swim at the Greenbelt today"),r.a.createElement("p",{className:"full-view"},"Select a Greenbelt access point on the map or dropdown menu to display the latest water data from the closest gauge."),r.a.createElement("p",{className:"responsive-view"},"Select a Greenbelt access point from the dropdown menu to display the latest water data from the closest gauge."))},g=function(){var e=Object(n.useContext)(f).setState,t=Object(n.useContext)(d),a=t.state,l=t.setState,o=Object(n.useContext)(p).setState,c=Object(n.useState)(!1),i=Object(u.a)(c,2),h=i[0],v=i[1],g=function(t){var n=t.currentTarget.dataset.id;a!==s[n]&&(l(n),e(!0),m.getWaterData(n).then(function(t){e(!1),o(t)}).catch(function(t){e(!1),o({error:t})}))},E="dropdown";h&&(E+=" active");var b=s[a]&&s[a].name||"Select Location";return r.a.createElement("div",{className:E,onClick:function(){v(!h)}},r.a.createElement("div",{className:"title"},b),r.a.createElement("ul",{className:"list"},Object.keys(s).filter(function(e){return e!==a}).map(function(e,t){return r.a.createElement("li",{key:t,className:"item","data-id":e,onClick:g},s[e].name)})))},E=a(3),b=a.n(E),w=function(){var e=Object(n.useContext)(p).state,t=Object(n.useContext)(f).state;return r.a.createElement("div",{className:"results-container fadeInUp"},t&&r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"droplet"}),r.a.createElement("div",{className:"droplet"}),r.a.createElement("div",{className:"droplet"})),e&&!t&&function(){var t=e.location;return r.a.createElement("div",{className:"results fadeInUp"},r.a.createElement("h2",null,t.name),r.a.createElement("p",null,t.address),r.a.createElement("p",null,e.gaugeReference),r.a.createElement("p",{className:"info"},t.info),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement(b.a,{value:e.waterLevel,width:200,height:160,label:"Water Level (ft)",max:10,color:"#B9E4D0",topLabelStyle:{fontSize:"25px",fontFamily:"Amatic SC",fontWeight:"700",color:"#055A5B"},valueLabelStyle:{fontFamily:"Raleway"},minMaxLabelStyle:{fontFamily:"Raleway"}}),r.a.createElement(b.a,{value:e.discharge,width:200,height:160,label:"Water Flow (ft3/s)",max:45,color:"#F7D385",topLabelStyle:{fontSize:"25px",fontFamily:"Amatic SC",fontWeight:"700",color:"#055A5B"},valueLabelStyle:{fontFamily:"Raleway"},minMaxLabelStyle:{fontFamily:"Raleway"}})),r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"condition"},e.levelCondition," ",e.flowCondition))))}())},y=a(4),C=a.n(y),S=a(17),k=function(){var e=Object(n.useState)(),t=Object(u.a)(e,2),a=t[0],l=t[1],o=function(){var e=Object(S.a)(C.a.mark(function e(){var t,a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/weather");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)(function(){o().then(function(e){var t=e.response;l({temp:t.main.temp,condition:t.weather[0].description,img:t.weather[0].icon})}).catch(function(e){return console.log(e)})},[]);var c=a&&"http://openweathermap.org/img/wn/".concat(a.img,"@2x.png");return r.a.createElement("div",{className:"weather"},r.a.createElement("h2",null,"Current Weather in Austin, TX"),r.a.createElement("div",{className:"weather-info"},r.a.createElement("img",{src:c,className:"weather-icon",alt:"weather-icon"}),r.a.createElement("p",null,a&&a.temp," F")))},N=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("a",{href:"mailto:s.nguyen11@utexas.edu",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"far fa-envelope"})),r.a.createElement("a",{href:"https://www.instagram.com/pocketpossum_/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-instagram"})),r.a.createElement("a",{href:"https://www.linkedin.com/in/serenanguyenatx/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-linkedin"})))},x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement("div",{className:"query-container fadeInDown"},r.a.createElement(k,null),r.a.createElement(g,null),r.a.createElement(w,null)),r.a.createElement(N,null))};Object(l.render)(r.a.createElement(function(){return r.a.createElement(h,null,r.a.createElement(x,null))},null),document.getElementById("root"))},6:function(e,t,a){}},[[18,1,2]]]);
//# sourceMappingURL=main.de2b3f85.chunk.js.map